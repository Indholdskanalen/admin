/**
 * @name KkbDing2IntegrationBundle
 * @version v1.0.0
 * @link https://github.com/kdb/os2display-kkbding2-bundle
 */
angular.module("toolsModule").directive("backgroundEditorStaticColors",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(t){t.step="background-picker",t.backgroundPicker=function(){t.step="background-picker"},t.pickFromMedia=function(){t.step="pick-from-media"},t.pickFromComputer=function(){t.step="pick-from-computer"},t.clickBackgroundColor=function(){t.slide.options.images=[]};var o=function(e){for(var o=[],i=!1,r=0;r<t.slide.media.length;r++){var n=t.slide.media[r];n.id===e.id&&(i=!0)}i||o.push(e),t.slide.media=o};t.$on("mediaOverview.selectMedia",function(e,t){o(t)}),t.$on("mediaUpload.uploadSuccess",function(o,i){e.getMedia(i.id).then(function(e){t.slide.media=[e]},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})});var r=i.queue.find(function(e,t){return!e.isSuccess});r||t.close()})},templateUrl:function(e,t){return t.template?t.template:"/bundles/kkbding2integration/apps/dingEditors/background-editor-static-colors.html"}}}]),angular.module("toolsModule").directive("dingEventsEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/ding-events-editor.html"}}),angular.module("toolsModule").directive("openingHoursEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/opening-hours-editor.html"}}),angular.module("toolsModule").directive("textColorEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/text-color-editor.html"}}),angular.module("toolsModule").directive("headerStaticColors",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/header-static-colors.html"}}),angular.module("toolsModule").directive("imagePicker",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(t){t.step="background-picker",t.backgroundPicker=function(){t.step="background-picker"},t.pickFromMedia=function(){t.step="pick-from-media"},t.pickFromComputer=function(){t.step="pick-from-computer"};var o=function(e){for(var o=[],i=!1,r=0;r<t.slide.media.length;r++){var n=t.slide.media[r];n.id===e.id&&(i=!0)}i||o.push(e),t.slide.media=o};t.$on("mediaOverview.selectMedia",function(e,t){o(t)}),t.$on("mediaUpload.uploadSuccess",function(o,i){e.getMedia(i.id).then(function(e){t.slide.media=[e]},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})});var r=i.queue.find(function(e){return!e.isSuccess});r||t.close()})},templateUrl:function(e,t){return t.template?t.template:"/bundles/kkbding2integration/apps/dingEditors/image-picker.html"}}}]),angular.module("toolsModule").directive("logoPicker",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(t){t.logoStep="logo-picker",t.logoPicker=function(){t.logoStep="logo-picker"},t.pickLogoFromMedia=function(){t.logoStep="pick-logo-from-media",t.$emit("mediaOverview.updateSearch")},t.pickLogoFromComputer=function(){t.logoStep="pick-logo-from-computer"},t.logoPositions=[{value:{top:"0",bottom:"auto",left:"0",right:"auto"},text:"top venstre"},{value:{top:"0",bottom:"auto",left:"auto",right:"0"},text:"top højre"},{value:{top:"auto",bottom:"0",left:"0",right:"auto"},text:"bund venstre"},{value:{top:"auto",bottom:"0",left:"auto",right:"0"},text:"bund højre"}],t.logoSizes=[{value:"5%",text:"Meget lille (5% af skærmen)"},{value:"10%",text:"Lille (10% af skærmen)"},{value:"15%",text:"Medium (15% af skærmen)"},{value:"20%",text:"Stor (20% af skærmen)"},{value:"40%",text:"Ekstra stor (40% af skærmen)"}],t.$on("mediaOverview.selectMedia",function(e,o){"logo"===o.media_type&&(t.slide.logo=o,t.logoStep="logo-picker")}),t.$on("mediaUpload.uploadSuccess",function(o,i){e.getMedia(i.id).then(function(e){"logo"===e.media_type&&(t.slide.logo=e,t.logoStep="logo-picker")},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})})})},templateUrl:function(e,t){return t.template?t.template:"/bundles/os2displaydefaulttemplate/apps/toolsModule/logo-editor.html"}}}]);