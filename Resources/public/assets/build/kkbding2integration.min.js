/**
 * @name KkbDing2IntegrationBundle
 * @version v1.0.0
 * @link https://github.com/kdb/os2display-kkbding2-bundle
 */
angular.module("toolsModule").directive("backgroundEditorStaticColors",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(i){i.step="background-picker",i.backgroundPicker=function(){i.step="background-picker"},i.pickFromMedia=function(){i.step="pick-from-media"},i.pickFromComputer=function(){i.step="pick-from-computer"},i.clickBackgroundColor=function(){i.slide.options.images=[]};var o=function(e){for(var o=[],t=!1,n=0;n<i.slide.media.length;n++){var r=i.slide.media[n];r.id===e.id&&(t=!0)}t||o.push(e),i.slide.media=o};i.$on("mediaOverview.selectMedia",function(e,i){o(i)}),i.$on("mediaUpload.uploadSuccess",function(o,t){e.getMedia(t.id).then(function(e){i.slide.media=[e]},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})});var n=t.queue.find(function(e,i){return!e.isSuccess});n||i.close()})},templateUrl:function(e,i){return i.template?i.template:"/bundles/kkbding2integration/apps/dingEditors/background-editor-static-colors.html"}}}]),angular.module("toolsModule").directive("dingEventsEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/ding-events-editor.html"}}),angular.module("toolsModule").directive("openingHoursEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/opening-hours-editor.html"}}),angular.module("toolsModule").directive("textColorEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/text-color-editor.html"}}),angular.module("toolsModule").directive("centerHeader",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkbding2integration/apps/dingEditors/center-header.html"}}),angular.module("toolsModule").directive("imagePicker",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(i){i.step="background-picker",i.backgroundPicker=function(){i.step="background-picker"},i.pickFromMedia=function(){i.step="pick-from-media"},i.pickFromComputer=function(){i.step="pick-from-computer"};var o=function(e){for(var o=[],t=!1,n=0;n<i.slide.media.length;n++){var r=i.slide.media[n];r.id===e.id&&(t=!0)}t||o.push(e),i.slide.media=o};i.$on("mediaOverview.selectMedia",function(e,i){o(i)}),i.$on("mediaUpload.uploadSuccess",function(o,t){e.getMedia(t.id).then(function(e){i.slide.media=[e]},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})});var n=t.queue.find(function(e){return!e.isSuccess});n||i.close()})},templateUrl:function(e,i){return i.template?i.template:"/bundles/kkbding2integration/apps/dingEditors/image-picker.html"}}}]),angular.module("toolsModule").directive("logoPicker",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(i){i.logoStep="logo-picker",i.logoPicker=function(){i.logoStep="logo-picker"},i.pickLogoFromMedia=function(){i.logoStep="pick-logo-from-media",i.$emit("mediaOverview.updateSearch")},i.pickLogoFromComputer=function(){i.logoStep="pick-logo-from-computer"},i.$on("mediaOverview.selectMedia",function(e,o){"logo"===o.media_type&&(i.slide.logo=o,i.logoStep="logo-picker")}),i.$on("mediaUpload.uploadSuccess",function(o,t){e.getMedia(t.id).then(function(e){"logo"===e.media_type&&(i.slide.logo=e,i.logoStep="logo-picker")},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilføje media."})})})},templateUrl:function(e,i){return i.template?i.template:"/bundles/kkbding2integration/apps/dingEditors/logo-picker.html"}}}]);