/**
 * @name KkOs2DisplayIntegrationBundle
 * @version v1.0.0
 * @link https://github.com/kkos2/kkos2-display-bundle
 */
angular.module("toolsModule").directive("backgroundEditor",["mediaFactory",function(e){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},link:function(i){i.step="background-picker",i.backgroundPicker=function(){i.step="background-picker"},i.pickFromMedia=function(){i.step="pick-from-media"},i.pickFromComputer=function(){i.step="pick-from-computer"},i.clickBackgroundColor=function(){i.slide.options.images=[]};var t=function(e){for(var t=[],o=!1,n=0;n<i.slide.media.length;n++){var r=i.slide.media[n];r.id===e.id&&(o=!0)}o||t.push(e),i.slide.media=t};i.$on("mediaOverview.selectMedia",function(e,i){t(i)}),i.$on("mediaUpload.uploadSuccess",function(t,o){e.getMedia(o.id).then(function(e){i.slide.media=[e]},function(e){busService.$emit("log.error",{cause:e,msg:"Kunne ikke tilfÃ¸je media."})});var n=o.queue.find(function(e,i){return!e.isSuccess});n||i.close()})},templateUrl:function(e,i){return i.template?i.template:"/bundles/kkos2displayintegration/apps/tools/background-editor.html"}}}]),angular.module("toolsModule").directive("eventFeedEditor",function(){return{restrict:"E",replace:!0,scope:{slide:"=",close:"&",template:"@"},templateUrl:"/bundles/kkos2displayintegration/apps/tools/event-feed-editor.html"}});